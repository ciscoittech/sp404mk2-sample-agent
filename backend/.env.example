# ===========================================================================
# SP404 MK2 Sample Agent - Environment Configuration Template
# ===========================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control (already in .gitignore)

# ===========================================================================
# DATABASE CONFIGURATION
# ===========================================================================

# PostgreSQL Configuration
# Uses async driver (asyncpg) for async/await support
# Get credentials from docker-compose.yml or your deployment
POSTGRES_USER=sp404_user
POSTGRES_PASSWORD=changeme_in_production
POSTGRES_DB=sp404_samples
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ===========================================================================
# API CONFIGURATION
# ===========================================================================

# API Server Settings
API_HOST=0.0.0.0
API_PORT=8100
ENVIRONMENT=development

# ===========================================================================
# OPENROUTER API (Required for AI Analysis)
# ===========================================================================

# Get your API key from: https://openrouter.ai/keys
OPENROUTER_API_KEY=your_openrouter_api_key_here

# ===========================================================================
# YOUTUBE API (Optional - for advanced features)
# ===========================================================================

# YouTube Data API v3 credentials
# Get from: https://console.cloud.google.com/apis/credentials
YOUTUBE_API_KEY=your_youtube_api_key_here

# ===========================================================================
# DOCKER CONFIGURATION
# ===========================================================================

# Docker Compose overrides (optional)
# These match the docker-compose.yml defaults
COMPOSE_PROJECT_NAME=sp404-sample-agent

# ===========================================================================
# APPLICATION SETTINGS
# ===========================================================================

# Upload limits
MAX_UPLOAD_SIZE_MB=100

# Batch processing
BATCH_PROCESSING_MAX_WORKERS=10
BATCH_PROCESSING_TIMEOUT=300

# ===========================================================================
# SECURITY (For Production Deployment)
# ===========================================================================

# Generate a secure secret key for JWT tokens
# You can generate one with: openssl rand -hex 32
SECRET_KEY=change_this_to_a_random_secret_key_in_production

# Allowed CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8100

# ===========================================================================
# LOGGING
# ===========================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ===========================================================================
# NOTES
# ===========================================================================
# 1. PostgreSQL Migration:
#    - Old SQLite database: backend/sp404_samples.db (backed up as .backup)
#    - New PostgreSQL: Configured in docker-compose.yml
#    - Data migration: Run backend/scripts/migrate_sqlite_to_postgres.py

# 2. OrbStack vs Docker Desktop:
#    - OrbStack provides automatic domain names (*.orb.local)
#    - Docker Desktop requires using 'localhost' or container names

# 3. Non-Standard Ports:
#    - If 5432 is in use, change POSTGRES_PORT to 5433, 5434, etc.
#    - Update DATABASE_URL accordingly

# 4. Production Deployment:
#    - Change all passwords to secure values
#    - Generate new SECRET_KEY
#    - Set ENVIRONMENT=production
#    - Configure proper CORS_ORIGINS

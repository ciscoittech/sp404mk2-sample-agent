# Database Configuration
# PostgreSQL with async driver (asyncpg)
# Get credentials from docker-compose.yml or your deployment
POSTGRES_USER=sp404_user
POSTGRES_PASSWORD=changeme_in_production
POSTGRES_DB=sp404_samples
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# OpenRouter API Configuration
# Add your API key here if you want AI-powered vibe analysis

# Application Settings
ENVIRONMENT=
DEBUG=false
LOG_LEVEL=INFO

# Audio Analysis Settings
# ========================

# Master switch to enable/disable Essentia audio analysis
# When enabled, Essentia provides 90-95% BPM accuracy and genre classification
# Falls back to librosa automatically if Essentia fails or is unavailable
# Set to false to always use librosa (useful for development/debugging)
# Default: true
USE_ESSENTIA=true

# Enable/disable genre classification with Essentia
# Requires Essentia and pre-trained TensorFlow models (~150MB)
# Currently disabled by default due to model compatibility issues
# Set to true only if models are downloaded and working
# Default: false
ENABLE_GENRE_CLASSIFICATION=false

# BPM extraction method when Essentia is available
# Options:
#   - multifeature: Most accurate, slower (recommended for samples <30s)
#   - degara: Fast, good accuracy (recommended for samples >=30s)
#   - percival: Alternative algorithm, balanced speed/accuracy
# Default: multifeature
ESSENTIA_BPM_METHOD=multifeature

# Maximum time (in seconds) to wait for audio analysis to complete
# Prevents hanging on corrupted files or extremely long samples
# Recommended: 30 (dev), 60 (production), 120 (batch processing)
# Default: 30
AUDIO_ANALYSIS_TIMEOUT=30
